http {
    error_log  logs/error_http_block.log; #error_log  logs/error.log  notice;
    #Specifies the file where server logs. 

    # access_log  logs/access.log;

    sendfile on;


    client_max_body_size 512;

    server {

        # listen 10.21.31.103:8080;
        listen 8080;
        #tells Webserv the hostname and the TCP port where it should listen for HTTP connections.
        # listen 80; is equivalent to listen *:80;
        server_name example.com www.example.com

        sendfile on;

        #try open one of file after index attribute;
        # index   index.html index.htm index.webserv-default.html

        client_max_body_size    1024m;

        accepted_methods    GET POST;

        error_log logs/domain_8080.error.log;

        location / {
            # root    /
            index   index.html index.htm
            client_max_body_size    3m
            return 301 /localhost:4242
        }
        location /site {
            # root    /
            index   index.html index.htm
            client_max_body_size    3m
        }
        location /dir1 {
            root    site/img/
            index   index.html index.htm
            client_max_body_size    3m
        }
        location /dir2 {
            root    site/img/
            index   index.html index.htm
            client_max_body_size    3m
        }
        location /dir3 {
            root    site/img/
            index   index.html index.htm
            client_max_body_size    3m
        }

        location /images/ {
            root site/images/
            index   index.jpeg index.jpg index.png
        }

        # location /gifs/ {
        #     root site/asd/
        #     index   index.html index.htm
        #     default_page    
        # }

        autoindex on;

        # error_page 404    /404.html 
        
        #comments
    }


    server {

        listen  4242;
        autoindex on;
        server_name colors.com www.colors.com

        client_max_body_size 1024

        error_log logs/colors.error.log

        location / {
            root    /site
            accepted_methods GET
            index   blue.html index.htm
        }

        location /colors {
            root    /site/colors
            index   blue.html index.htm
        }

    }

    server {

        listen  80;
        server_name tester

        error_log logs/tester.error.log

        location / {
            accepted_methods GET
        }

        location /put_test/* {
            accepted_methods PUT
        }

        location /post_body {
            accepted_methods POST
            client_max_body_size 100
        }

        location /directory/ {
            root YoupiBanane/
            index   index.bad_extension
        }
    }
}
